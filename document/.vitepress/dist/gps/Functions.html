<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Functions（镜像） | 通风网络解算系统</title>
    <meta name="description" content="wangluojiesuan 项目文档（理论 → 算法 → 用法）">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/test/assets/style.DjhgtIDT.css" as="style">
    <link rel="preload stylesheet" href="/test/vp-icons.css" as="style">
    
    <script type="module" src="/test/assets/app.CFcxwLqW.js"></script>
    <link rel="preload" href="/test/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/test/assets/chunks/theme.blUQ-i-d.js">
    <link rel="modulepreload" href="/test/assets/chunks/framework.vkHgskZA.js">
    <link rel="modulepreload" href="/test/assets/gps_Functions.md.Cr8DT6s8.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/test/" data-v-9f43907a><!--[--><!--]--><!--[--><img class="VPImage logo" src="/test/logo.svg" alt data-v-ab19afbb><!--]--><span data-v-9f43907a>通风网络解算系统</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/test/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>文档</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/test/gps/README" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>通用求解器</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/test/fig5.2/README" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>图5.2专用求解器</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>总览</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/test/" data-v-0009425e><!--[--><p class="text" data-v-0009425e>文档首页</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/test/01_%E7%AE%80%E4%BB%8B" data-v-0009425e><!--[--><p class="text" data-v-0009425e>简介</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/test/02_%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95" data-v-0009425e><!--[--><p class="text" data-v-0009425e>项目目录</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>理论与算法</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/test/03_%E6%95%B0%E5%AD%A6%E7%89%A9%E7%90%86" data-v-0009425e><!--[--><p class="text" data-v-0009425e>数学物理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/test/04_%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0" data-v-0009425e><!--[--><p class="text" data-v-0009425e>算法实现</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>使用</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/test/05_App%E4%BD%BF%E7%94%A8" data-v-0009425e><!--[--><p class="text" data-v-0009425e>App 使用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/test/06_App%E5%A4%96%E7%94%A8%E6%B3%95" data-v-0009425e><!--[--><p class="text" data-v-0009425e>App 外用法</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>附录</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/test/07_%E5%85%B6%E4%BB%96" data-v-0009425e><!--[--><p class="text" data-v-0009425e>其他</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/test/%E8%AE%B8%E5%8F%AF%E8%AF%81" data-v-0009425e><!--[--><p class="text" data-v-0009425e>许可证（GPL-3.0）</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 has-active" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>通用求解器（镜像）</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/test/gps/README" data-v-0009425e><!--[--><p class="text" data-v-0009425e>README</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/test/gps/Functions" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Functions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/test/gps/OutAppUse" data-v-0009425e><!--[--><p class="text" data-v-0009425e>OutAppUse</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>图5.2专用求解器（镜像）</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/test/fig5.2/README" data-v-0009425e><!--[--><p class="text" data-v-0009425e>README</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>仓库（镜像）</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/test/repo/README" data-v-0009425e><!--[--><p class="text" data-v-0009425e>根目录 README</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _test_gps_Functions" data-v-e6f2a212><div><blockquote><p>本页镜像自仓库文件 <code>General Problem Solver/Functions.md</code>，用于在 VitePress 站内阅读；如需修改请改动源文件后再同步。</p></blockquote><h1 id="general-problem-solver-—-主要函数一览" tabindex="-1">General Problem Solver — 主要函数一览 <a class="header-anchor" href="#general-problem-solver-—-主要函数一览" aria-label="Permalink to &quot;General Problem Solver — 主要函数一览&quot;">​</a></h1><p>本文整理项目 <code>General Problem Solver</code> 中对外最常用（或作为主流程入口）的 MATLAB 函数，便于快速定位“数据导入 → 绘图 → 求解 → 导出”的调用链。</p><p>这些函数不仅可以在 App 内（按钮回调）使用，也可以在 <strong>App 外</strong>（命令行/脚本）直接调用。更完整的“脱离 App 使用方法”（手动构造数据、按目录加载 CSV）请见：<a href="./OutAppUse">OutAppUse.md</a>。</p><hr><h2 id="典型调用链-从-app-界面出发" tabindex="-1">典型调用链（从 App/界面出发） <a class="header-anchor" href="#典型调用链-从-app-界面出发" aria-label="Permalink to &quot;典型调用链（从 App/界面出发）&quot;">​</a></h2><ol><li>导入分支 CSV → <code>gps.ui.import_branches_csv_to_uitable</code> → 内部调用 <code>gps.ui.import_branches_csv</code></li><li>绘制拓扑图 → <code>gps.ui.plot_network_graph</code></li><li>从 UI 求解 → <code>gps.ui.solve_network_from_ui</code> → 内部调用 <code>gps.logic.ventilation_network_solver_generic</code></li><li>可视化/导出结果（可选）→ <code>gps.ui.plot_solution_bars</code> / <code>gps.ui.export_solution_to_csv</code></li><li>导出当前 UITable 分支数据 → <code>gps.ui.export_uitable_to_branches_csv</code></li></ol><hr><h2 id="数据结构约定-跨模块通用" tabindex="-1">数据结构约定（跨模块通用） <a class="header-anchor" href="#数据结构约定-跨模块通用" aria-label="Permalink to &quot;数据结构约定（跨模块通用）&quot;">​</a></h2><h3 id="分支结构-branches-struct" tabindex="-1">分支结构 <code>Branches</code>（struct） <a class="header-anchor" href="#分支结构-branches-struct" aria-label="Permalink to &quot;分支结构 `Branches`（struct）&quot;">​</a></h3><p>字段与约束（均建议为 <code>double</code> 列向量，大小 <code>B×1</code>）：</p><ul><li><code>Branches.id</code>：分支/巷道 ID（求解器要求必须为 <code>1..B</code> 连续整数）</li><li><code>Branches.from_node</code>：起点节点编号（正整数，≥1；定义分支正方向）</li><li><code>Branches.to_node</code>：终点节点编号（正整数，≥1）</li><li><code>Branches.R</code>：风阻系数（正数）</li></ul><p>最小示例（手动构造）：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Branches = struct();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Branches.id        = (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Branches.from_node = [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;2;3];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Branches.to_node   = [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;3;1];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Branches.R         = [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;0.08;0.10];</span></span></code></pre></div><h3 id="边界条件-boundary-struct" tabindex="-1">边界条件 <code>Boundary</code>（struct） <a class="header-anchor" href="#边界条件-boundary-struct" aria-label="Permalink to &quot;边界条件 `Boundary`（struct）&quot;">​</a></h3><p>字段与约束：</p><ul><li><code>Boundary.Q_total</code>：系统总风量（<code>double</code> 标量，&gt;0）</li><li><code>Boundary.inlet_node</code>：入风节点编号（<code>double</code> 标量或向量；正整数；建议 <code>unique</code>）</li><li><code>Boundary.outlet_node</code>：回风节点编号（<code>double</code> 标量或向量；正整数；建议 <code>unique</code>）</li></ul><p>建议：<code>inlet_node</code> 与 <code>outlet_node</code> 不能重复，且必须落在网络节点范围 <code>1..max(from_node,to_node)</code> 内。</p><h3 id="求解器参数-solveroptions-struct" tabindex="-1">求解器参数 <code>SolverOptions</code>（struct） <a class="header-anchor" href="#求解器参数-solveroptions-struct" aria-label="Permalink to &quot;求解器参数 `SolverOptions`（struct）&quot;">​</a></h3><p>常用字段（可不提供，求解器有默认值）：</p><ul><li><code>SolverOptions.max_iter</code>：最大迭代次数（默认 1000）</li><li><code>SolverOptions.tolerance</code>：收敛容差（默认 <code>1e-3</code>）</li><li><code>SolverOptions.relaxation</code>：松弛因子（默认 1.0）</li><li><code>SolverOptions.verbose</code>：是否打印过程信息（默认 <code>true</code>）</li></ul><h3 id="求解结果-results-struct" tabindex="-1">求解结果 <code>Results</code>（struct） <a class="header-anchor" href="#求解结果-results-struct" aria-label="Permalink to &quot;求解结果 `Results`（struct）&quot;">​</a></h3><p><code>gps.logic.ventilation_network_solver_generic</code> 的第二个返回值，常用字段包括：</p><ul><li><code>Results.converged</code>（logical）：是否收敛</li><li><code>Results.iterations</code>（double 标量）：迭代次数</li><li><code>Results.max_residual</code>（double 标量）：最大回路残差</li><li><code>Results.residual_history</code>（double 向量）：残差历史（长度为迭代次数）</li><li><code>Results.node_residual</code>（<code>N×1</code>）：节点守恒残差 <code>A*Q-b</code></li><li><code>Results.LoopMatrix</code>（<code>M×B</code>）：基本回路矩阵</li><li><code>Results.pressure_diff_signed</code> / <code>Results.pressure_diff_abs</code>（<code>B×1</code>）：各分支压降（有符号/绝对值）</li><li><code>Results.network_info</code>（struct）：网络规模信息（<code>N/B/M</code>）</li></ul><hr><h2 id="gps-logic-核心算法" tabindex="-1"><code>gps.logic</code>（核心算法） <a class="header-anchor" href="#gps-logic-核心算法" aria-label="Permalink to &quot;`gps.logic`（核心算法）&quot;">​</a></h2><h3 id="gps-logic-ventilation-network-solver-generic" tabindex="-1"><code>gps.logic.ventilation_network_solver_generic</code> <a class="header-anchor" href="#gps-logic-ventilation-network-solver-generic" aria-label="Permalink to &quot;`gps.logic.ventilation_network_solver_generic`&quot;">​</a></h3><p>文件：<code>General Problem Solver/+gps/+logic/ventilation_network_solver_generic.m</code></p><p>签名：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Q, Results] = gps.logic.ventilation_network_solver_generic(Branches, Boundary, SolverOptions)</span></span></code></pre></div><p>作用：</p><ul><li>通用通风网络求解器（Hardy Cross）</li><li>从 <code>Boundary.Q_total + inlet/outlet</code> 构造节点注入向量 <code>b</code>，生成满足节点守恒的初始可行流 <code>Q0</code>，再进行回路迭代修正</li></ul><p>输入/输出：</p><ul><li>输入：<code>Branches</code>、<code>Boundary</code>、可选 <code>SolverOptions</code></li><li>输出： <ul><li><code>Q</code>：各分支风量（<code>B×1</code>）</li><li><code>Results</code>：迭代信息与残差等（例如 <code>converged/iterations/max_residual/node_residual/LoopMatrix</code> 等）</li></ul></li></ul><p>独立调用示例（App 外）：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">addpath(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;General Problem Solver&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Branches = struct();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Branches.id        = (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Branches.from_node = [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;2;3;4;5;6;2];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Branches.to_node   = [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;3;4;5;6;1;5];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Branches.R         = [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;0.08;0.10;0.06;0.09;0.11;0.07];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Boundary = struct();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Boundary.Q_total     = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Boundary.inlet_node  = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Boundary.outlet_node = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SolverOptions = struct(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;max_iter&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;tolerance&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1e-3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;relaxation&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;verbose&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Q, Results] = gps.logic.ventilation_network_solver_generic(Branches, Boundary, SolverOptions);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">disp(Q);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">disp(Results.converged);</span></span></code></pre></div><p>依赖：</p><ul><li>调用 <code>gps.logic.identify_fundamental_loops</code> 自动识别基本回路</li></ul><hr><h3 id="gps-logic-identify-fundamental-loops" tabindex="-1"><code>gps.logic.identify_fundamental_loops</code> <a class="header-anchor" href="#gps-logic-identify-fundamental-loops" aria-label="Permalink to &quot;`gps.logic.identify_fundamental_loops`&quot;">​</a></h3><p>文件：<code>General Problem Solver/+gps/+logic/identify_fundamental_loops.m</code></p><p>签名：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[LoopMatrix, LoopInfo] = gps.logic.identify_fundamental_loops(Branches, verbose)</span></span></code></pre></div><p>作用：</p><ul><li>基于生成树（Spanning Tree）方法，从网络拓扑自动识别独立基本回路（Fundamental Cycles）</li><li>输出回路-分支矩阵 <code>LoopMatrix</code>（元素为 <code>-1/0/+1</code>，表示分支在回路中的方向关系）</li></ul><p>输入/输出：</p><ul><li>输入：<code>Branches</code>，可选 <code>verbose</code></li><li>输出： <ul><li><code>LoopMatrix</code>：<code>M×B</code>（<code>M = B - N + 1</code>）</li><li><code>LoopInfo</code>：每个回路的分支列表/方向/弦边等信息</li></ul></li></ul><p>输出结构补充：</p><ul><li><code>LoopInfo</code> 为结构体数组（长度 <code>M</code>），常用字段： <ul><li><code>LoopInfo(k).branches</code>：回路 k 包含的分支 ID（列向量）</li><li><code>LoopInfo(k).signs</code>：对应的方向符号（<code>+1/-1</code>）</li><li><code>LoopInfo(k).chord_branch</code>：形成该回路的弦边分支 ID</li></ul></li></ul><p>独立调用示例：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">addpath(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;General Problem Solver&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Branches = struct();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Branches.id        = (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Branches.from_node = [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;2;3;4;5;6;2];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Branches.to_node   = [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;3;4;5;6;1;5];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Branches.R         = [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;0.08;0.10;0.06;0.09;0.11;0.07];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[S, info] = gps.logic.identify_fundamental_loops(Branches, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">disp(size(S));           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">% [M, B]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">disp(info(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">% 查看某个回路信息</span></span></code></pre></div><hr><h2 id="gps-ui-界面-交互辅助" tabindex="-1"><code>gps.ui</code>（界面/交互辅助） <a class="header-anchor" href="#gps-ui-界面-交互辅助" aria-label="Permalink to &quot;`gps.ui`（界面/交互辅助）&quot;">​</a></h2><h3 id="gps-ui-solve-network-from-ui" tabindex="-1"><code>gps.ui.solve_network_from_ui</code> <a class="header-anchor" href="#gps-ui-solve-network-from-ui" aria-label="Permalink to &quot;`gps.ui.solve_network_from_ui`&quot;">​</a></h3><p>文件：<code>General Problem Solver/+gps/+ui/solve_network_from_ui.m</code></p><p>签名：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Q, Results, success] = gps.ui.solve_network_from_ui(app)</span></span></code></pre></div><p>作用：</p><ul><li>从 App Designer 的 UI 组件读取分支表格与边界/求解参数（<code>UITable/EditField/Slider/DropDown</code> 等）</li><li>校验输入合法性并调用 <code>gps.logic.ventilation_network_solver_generic</code></li><li>将过程信息追加到 <code>TextArea</code>（如果存在），并在 <code>verbose</code> 模式下进行绘图/导出</li></ul><p>输入/输出：</p><ul><li>输入：<code>app</code>（App Designer 应用对象）</li><li>输出：<code>Q</code>、<code>Results</code>、<code>success</code>（是否收敛）</li></ul><p>参数结构补充（<code>app</code> 需要的核心属性）：</p><ul><li><code>app.UITable.Data</code>：分支表格数据（通常是 <code>table</code>，至少 4 列：ID/起点/终点/风阻）</li><li><code>app.EditField.Value</code>：总风量 <code>Q_total</code></li><li><code>app.EditField_2.Value</code>：入风节点（字符串如 <code>&quot;1,2&quot;</code> 或数值）</li><li><code>app.EditField_3.Value</code>：回风节点（字符串如 <code>&quot;5,6&quot;</code> 或数值）</li><li><code>app.EditField_4.Value</code>：最大迭代次数（可选）</li><li><code>app.EditField_5.Value</code>：收敛容差（可选）</li><li><code>app.Slider.Value</code>：松弛因子（可选）</li></ul><p>依赖（常见调用）：</p><ul><li><code>gps.logic.ventilation_network_solver_generic</code></li><li><code>gps.ui.append_to_textarea</code>（日志输出）</li><li><code>gps.ui.plot_solution_bars</code>（可选）</li><li><code>gps.ui.export_solution_to_csv</code>（可选）</li></ul><hr><h3 id="gps-ui-plot-network-graph" tabindex="-1"><code>gps.ui.plot_network_graph</code> <a class="header-anchor" href="#gps-ui-plot-network-graph" aria-label="Permalink to &quot;`gps.ui.plot_network_graph`&quot;">​</a></h3><p>文件：<code>General Problem Solver/+gps/+ui/plot_network_graph.m</code></p><p>签名：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">G = gps.ui.plot_network_graph(uitableHandle, axesHandle, app)</span></span></code></pre></div><p>作用：</p><ul><li>从 <code>UITable.Data</code> 中提取起点/终点列绘制网络拓扑图</li><li>支持（可选）从 <code>app.EditField_2/3</code> 读取入风/回风节点，并在图中补上边界巷道（用于更符合通风网络语义的展示）</li><li>内部按“边表（EndNodes）”构建 <code>graph</code>，可避免邻接矩阵方式对平行巷道的合并问题</li></ul><p>输入/输出：</p><ul><li>输入： <ul><li><code>uitableHandle</code>：<code>matlab.ui.control.Table</code></li><li><code>axesHandle</code>：可选 <code>UIAxes/axes</code>（空则新建 figure）</li><li><code>app</code>：可选 App 对象（用于读取入/回风节点）</li></ul></li><li>输出：<code>G</code>（<code>graph</code> 对象）</li></ul><p>参数结构补充（<code>uitableHandle.Data</code>）：</p><ul><li>通常为 <code>table</code>，至少包含 3 列：分支 ID、起点、终点</li><li>本函数会尝试根据 <code>VariableNames</code> 自动识别列；识别失败则回退到第 1/2/3 列</li></ul><p>独立调用示例（不启用 App）：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">addpath(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;General Problem Solver&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fig = uifigure(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Name&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Network&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uit = uitable(fig);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uit.Data = table((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;2;3], [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;3;1], </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;VariableNames&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ID&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;起点&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;终点&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">G = gps.ui.plot_network_graph(uit);</span></span></code></pre></div><hr><h3 id="gps-ui-import-branches-csv" tabindex="-1"><code>gps.ui.import_branches_csv</code> <a class="header-anchor" href="#gps-ui-import-branches-csv" aria-label="Permalink to &quot;`gps.ui.import_branches_csv`&quot;">​</a></h3><p>文件：<code>General Problem Solver/+gps/+ui/import_branches_csv.m</code></p><p>签名：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">T = gps.ui.import_branches_csv(filePath)</span></span></code></pre></div><p>作用：</p><ul><li>读取分支 CSV（支持中英列名、支持 <code>#</code> 注释行）</li><li>输出规范化后的 <code>table</code>，列名固定为：<code>id/from_node/to_node/R</code></li></ul><p>输出结构：</p><ul><li>返回 <code>T</code>（<code>table</code>），且 <code>T.Properties.VariableNames</code> 固定为：<code>{&#39;id&#39;,&#39;from_node&#39;,&#39;to_node&#39;,&#39;R&#39;}</code></li></ul><p>独立调用示例：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">addpath(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;General Problem Solver&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">T = gps.ui.import_branches_csv(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;branches.csv&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">disp(T(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:min(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,height(T)), :));</span></span></code></pre></div><hr><h3 id="gps-ui-import-branches-csv-to-uitable" tabindex="-1"><code>gps.ui.import_branches_csv_to_uitable</code> <a class="header-anchor" href="#gps-ui-import-branches-csv-to-uitable" aria-label="Permalink to &quot;`gps.ui.import_branches_csv_to_uitable`&quot;">​</a></h3><p>文件：<code>General Problem Solver/+gps/+ui/import_branches_csv_to_uitable.m</code></p><p>签名：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">T = gps.ui.import_branches_csv_to_uitable(uitableHandle, filePath)</span></span></code></pre></div><p>作用：</p><ul><li>通过文件选择框或指定路径读取分支 CSV</li><li>将规范化后的数据填充到 <code>UITable</code>，并设置列标题</li></ul><p>依赖：</p><ul><li><code>gps.ui.import_branches_csv</code></li></ul><p>独立调用示例（指定文件路径，避免弹窗）：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">addpath(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;General Problem Solver&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fig = uifigure;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uit = uitable(fig);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">T = gps.ui.import_branches_csv_to_uitable(uit, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;branches.csv&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><hr><h3 id="gps-ui-export-uitable-to-branches-csv" tabindex="-1"><code>gps.ui.export_uitable_to_branches_csv</code> <a class="header-anchor" href="#gps-ui-export-uitable-to-branches-csv" aria-label="Permalink to &quot;`gps.ui.export_uitable_to_branches_csv`&quot;">​</a></h3><p>文件：<code>General Problem Solver/+gps/+ui/export_uitable_to_branches_csv.m</code></p><p>签名：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">success = gps.ui.export_uitable_to_branches_csv(uitableHandle, filePath)</span></span></code></pre></div><p>作用：</p><ul><li>将 <code>UITable.Data</code> 导出为带注释头的 GPS 标准 CSV（默认列为 <code>branch_id,from_node,to_node,resistance</code>）</li><li>内置数据完整性/合法性校验，并支持保存对话框</li></ul><p>独立调用示例（指定输出路径，避免弹窗）：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">addpath(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;General Problem Solver&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fig = uifigure;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uit = uitable(fig);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uit.Data = table((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;2;3], [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;3;1], [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;0.08;0.10], </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;VariableNames&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ID&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;起点&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;终点&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;风阻&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ok = gps.ui.export_uitable_to_branches_csv(uit, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;branches_out.csv&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">disp(ok);</span></span></code></pre></div><hr><h3 id="gps-ui-export-solution-to-csv" tabindex="-1"><code>gps.ui.export_solution_to_csv</code> <a class="header-anchor" href="#gps-ui-export-solution-to-csv" aria-label="Permalink to &quot;`gps.ui.export_solution_to_csv`&quot;">​</a></h3><p>文件：<code>General Problem Solver/+gps/+ui/export_solution_to_csv.m</code></p><p>签名：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">filePath = gps.ui.export_solution_to_csv(Branches, Q, Results, filePath)</span></span></code></pre></div><p>作用：</p><ul><li>将求解结果导出为 CSV（含风量、压降等），并在文件头写入注释形式的元数据/收敛信息</li></ul><p>独立调用示例（先求解再导出）：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">addpath(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;General Problem Solver&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">% 假设已得到 Branches/Boundary/SolverOptions</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Q, Results] = gps.logic.ventilation_network_solver_generic(Branches, Boundary, SolverOptions);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">filePath = gps.ui.export_solution_to_csv(Branches, Q, Results, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;solution_results.csv&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">disp(filePath);</span></span></code></pre></div><hr><h3 id="gps-ui-plot-solution-bars" tabindex="-1"><code>gps.ui.plot_solution_bars</code> <a class="header-anchor" href="#gps-ui-plot-solution-bars" aria-label="Permalink to &quot;`gps.ui.plot_solution_bars`&quot;">​</a></h3><p>文件：<code>General Problem Solver/+gps/+ui/plot_solution_bars.m</code></p><p>签名：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">gps.ui.plot_solution_bars(Branches, Q, Results)</span></span></code></pre></div><p>作用：</p><ul><li>绘制结果柱状图（风量、压降两幅子图）</li><li>适合在 <code>verbose</code> 模式下做快速检查与展示</li></ul><p>独立调用示例：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">gps.ui.plot_solution_bars(Branches, Q, Results);</span></span></code></pre></div><hr><h3 id="gps-ui-append-to-textarea" tabindex="-1"><code>gps.ui.append_to_textarea</code> <a class="header-anchor" href="#gps-ui-append-to-textarea" aria-label="Permalink to &quot;`gps.ui.append_to_textarea`&quot;">​</a></h3><p>文件：<code>General Problem Solver/+gps/+ui/append_to_textarea.m</code></p><p>签名：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">gps.ui.append_to_textarea(textarea, msg)</span></span></code></pre></div><p>作用：</p><ul><li>向 <code>TextArea</code> 追加多行文本并自动滚动到底部（用于日志输出）</li></ul><p>独立调用示例：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fig = uifigure;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ta = uitextarea(fig);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">gps.ui.append_to_textarea(ta, sprintf(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello\\nWorld\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span></code></pre></div><hr><h3 id="gps-ui-add-new-row-to-uitable" tabindex="-1"><code>gps.ui.add_new_row_to_uitable</code> <a class="header-anchor" href="#gps-ui-add-new-row-to-uitable" aria-label="Permalink to &quot;`gps.ui.add_new_row_to_uitable`&quot;">​</a></h3><p>文件：<code>General Problem Solver/+gps/+ui/add_new_row_to_uitable.m</code></p><p>签名：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">newRowIndex = gps.ui.add_new_row_to_uitable(uitableHandle)</span></span></code></pre></div><p>作用：</p><ul><li>在 <code>UITable</code> 末尾追加一行新分支数据</li><li>自动生成连续 ID，并设置默认值</li></ul><p>独立调用示例：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fig = uifigure;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uit = uitable(fig);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uit.Data = table((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;2], [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;3], [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;0.2], </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;VariableNames&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ID&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;起点&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;终点&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;风阻&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">idx = gps.ui.add_new_row_to_uitable(uit);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">disp(idx);</span></span></code></pre></div><hr><h3 id="gps-ui-delete-selected-rows-from-uitable" tabindex="-1"><code>gps.ui.delete_selected_rows_from_uitable</code> <a class="header-anchor" href="#gps-ui-delete-selected-rows-from-uitable" aria-label="Permalink to &quot;`gps.ui.delete_selected_rows_from_uitable`&quot;">​</a></h3><p>文件：<code>General Problem Solver/+gps/+ui/delete_selected_rows_from_uitable.m</code></p><p>签名：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">deletedCount = gps.ui.delete_selected_rows_from_uitable(uitableHandle, options)</span></span></code></pre></div><p>作用：</p><ul><li>删除 <code>UITable</code> 当前选中行</li><li>支持可选：删除后是否重新连续编号（reindex）、是否确认对话框</li></ul><p>独立调用示例（手动指定选择并删除）：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fig = uifigure;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uit = uitable(fig);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uit.Data = table((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;2;3], [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;3;1], [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;0.2;0.3], </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;VariableNames&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ID&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;起点&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;终点&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;风阻&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uit.Selection = [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">% 选中第2行某单元格</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">deleted = gps.ui.delete_selected_rows_from_uitable(uit, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;reindexID&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;confirm&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">disp(deleted);</span></span></code></pre></div><hr><h3 id="gps-ui-clear-uitable" tabindex="-1"><code>gps.ui.clear_uitable</code> <a class="header-anchor" href="#gps-ui-clear-uitable" aria-label="Permalink to &quot;`gps.ui.clear_uitable`&quot;">​</a></h3><p>文件：<code>General Problem Solver/+gps/+ui/clear_uitable.m</code></p><p>签名：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">success = gps.ui.clear_uitable(uitableHandle, options)</span></span></code></pre></div><p>作用：</p><ul><li>清空 <code>UITable</code> 数据（保留列结构），可选确认弹窗</li></ul><p>独立调用示例：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fig = uifigure;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uit = uitable(fig);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uit.Data = table((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;2], [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;3], [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;0.2], </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;VariableNames&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ID&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;起点&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;终点&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;风阻&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ok = gps.ui.clear_uitable(uit, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;confirm&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">disp(ok);</span></span></code></pre></div><hr><h2 id="gps-data-离线数据加载" tabindex="-1"><code>gps.data</code>（离线数据加载） <a class="header-anchor" href="#gps-data-离线数据加载" aria-label="Permalink to &quot;`gps.data`（离线数据加载）&quot;">​</a></h2><h3 id="gps-data-load-network-data" tabindex="-1"><code>gps.data.load_network_data</code> <a class="header-anchor" href="#gps-data-load-network-data" aria-label="Permalink to &quot;`gps.data.load_network_data`&quot;">​</a></h3><p>文件：<code>General Problem Solver/+gps/+data/load_network_data.m</code></p><p>签名：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Branches, Boundary, SolverOptions] = gps.data.load_network_data(data_dir)</span></span></code></pre></div><p>作用：</p><ul><li>从一个数据目录读取 <code>branches.csv</code>、<code>boundary.csv</code>（必需）以及 <code>solver_config.csv</code>（可选）</li><li>解析后输出 <code>Branches/Boundary/SolverOptions</code> 结构，便于命令行/脚本方式直接调用求解器</li></ul><p>相关模板文件：</p><ul><li><code>General Problem Solver/+gps/+data/branches_template.csv</code></li><li><code>General Problem Solver/+gps/+data/boundary_template.csv</code></li><li><code>General Problem Solver/+gps/+data/solver_config_template.csv</code></li></ul><p>CSV 格式摘要与示例请优先参考：<a href="./OutAppUse">OutAppUse.md</a>。</p><p>独立调用示例：</p><div class="language-matlab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">matlab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">addpath(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;General Problem Solver&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Branches, Boundary, SolverOptions] = gps.data.load_network_data(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;my_network_dir/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Q, Results] = gps.logic.ventilation_network_solver_generic(Branches, Boundary, SolverOptions);</span></span></code></pre></div><hr><h2 id="app-入口" tabindex="-1">App（入口） <a class="header-anchor" href="#app-入口" aria-label="Permalink to &quot;App（入口）&quot;">​</a></h2><ul><li>主界面：<code>General Problem Solver/ui/NetworkSolverApp.mlapp</code></li><li>导出的类文件（自动生成/便于版本管理）：<code>General Problem Solver/ui/NetworkSolverApp_exported.m</code>、<code>General Problem Solver/ui/NetworkSolverApp_exported_v1_1_0.m</code></li></ul></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link prev" href="/test/gps/README" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Previous page</span><span class="title" data-v-1bcd8184>README</span><!--]--></a></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/test/gps/OutAppUse" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>OutAppUse</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-d8b57b2d data-v-566314d4><div class="container" data-v-566314d4><p class="message" data-v-566314d4>本文档站点用于阅读与二次开发参考</p><p class="copyright" data-v-566314d4>GPL-3.0</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"01_简介.md\":\"CowKJg4z\",\"02_项目目录.md\":\"CJWr_eSu\",\"03_数学物理.md\":\"mcfoGJnw\",\"04_算法实现.md\":\"nxlh0N-V\",\"05_app使用.md\":\"CYmWeCjV\",\"06_app外用法.md\":\"Buglo77l\",\"07_其他.md\":\"DDbzvkk3\",\"fig5.2_readme.md\":\"CUrtr0VW\",\"gps_functions.md\":\"Cr8DT6s8\",\"gps_outappuse.md\":\"DdVTL4cc\",\"gps_readme.md\":\"dIfZe3Z3\",\"index.md\":\"CXy5mpqE\",\"readme.md\":\"BetfE06h\",\"repo_readme.md\":\"BQcesfo5\",\"许可证.md\":\"2dc5WhS-\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"通风网络解算系统\",\"description\":\"wangluojiesuan 项目文档（理论 → 算法 → 用法）\",\"base\":\"/test/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.svg\",\"nav\":[{\"text\":\"文档\",\"link\":\"/\"},{\"text\":\"通用求解器\",\"link\":\"/gps/README\"},{\"text\":\"图5.2专用求解器\",\"link\":\"/fig5.2/README\"}],\"sidebar\":[{\"text\":\"总览\",\"items\":[{\"text\":\"文档首页\",\"link\":\"/\"},{\"text\":\"简介\",\"link\":\"/01_简介\"},{\"text\":\"项目目录\",\"link\":\"/02_项目目录\"}]},{\"text\":\"理论与算法\",\"items\":[{\"text\":\"数学物理\",\"link\":\"/03_数学物理\"},{\"text\":\"算法实现\",\"link\":\"/04_算法实现\"}]},{\"text\":\"使用\",\"items\":[{\"text\":\"App 使用\",\"link\":\"/05_App使用\"},{\"text\":\"App 外用法\",\"link\":\"/06_App外用法\"}]},{\"text\":\"附录\",\"items\":[{\"text\":\"其他\",\"link\":\"/07_其他\"},{\"text\":\"许可证（GPL-3.0）\",\"link\":\"/许可证\"}]},{\"text\":\"通用求解器（镜像）\",\"items\":[{\"text\":\"README\",\"link\":\"/gps/README\"},{\"text\":\"Functions\",\"link\":\"/gps/Functions\"},{\"text\":\"OutAppUse\",\"link\":\"/gps/OutAppUse\"}]},{\"text\":\"图5.2专用求解器（镜像）\",\"items\":[{\"text\":\"README\",\"link\":\"/fig5.2/README\"}]},{\"text\":\"仓库（镜像）\",\"items\":[{\"text\":\"根目录 README\",\"link\":\"/repo/README\"}]}],\"search\":{\"provider\":\"local\"},\"outline\":{\"level\":[2,3]},\"footer\":{\"message\":\"本文档站点用于阅读与二次开发参考\",\"copyright\":\"GPL-3.0\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>